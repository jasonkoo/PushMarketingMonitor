/* AvatarUI Tipbox | By Rocky | 2013-03-28 */
define(function(require){
	require('avatarui_css/avatarui_tipbox.css?20130328');
	$.fn.TipBox=function(d){function l(b,m){$(document.body).append('<div class="tipBox" id="TipBox_'+m+'"><div class="tipBoxCon"></div><div class="tipBoxArrow1"></div><div class="tipBoxArrow"></div></div>');var c=$("#TipBox_"+m);c.addClass(a.theme);a.className&&c.addClass(a.className);c.css("width",a.width);c.find(".tipBoxArrow").addClass("tipBoxArrow"+a.location);c.find(".tipBoxArrow1").addClass("tipBoxArrow1"+a.location);c.find(".tipBoxCon").html(""==a.textBoxCon?b.attr("tipBoxText"):a.textBoxCon);var e=c.outerHeight(),d=c.outerWidth(),j=b.outerWidth(),k=b.outerHeight(),h=b.offset().left,i=b.offset().top,f,g;switch(a.location){case "Top":g=i-e-10;f=h-(d-j)/2;break;case "Right":g=i-(e-k)/2;f=h+j+10;break;case "Bottom":g=i+k+10;f=h-(d-j)/2;break;case "Left":g=i-(e-k)/2,f=h-d-10}c.css({top:g+a.boxOffsetY,left:f+a.boxOffsetX}).show();e=c.find(".tipBoxArrow");c=c.find(".tipBoxArrow1");0!=a.arrowOffsetX&&(e.css("left",a.arrowOffsetX),c.css("left",a.arrowOffsetX));0!=a.arrowOffsetY&&(e.css("top",a.arrowOffsetY),c.css("top",a.arrowOffsetY))}var a=$.extend({},{location:"Top",width:200,textBoxCon:"",theme:"tipBoxOrange",boxOffsetX:0,boxOffsetY:0,arrowOffsetX:0,arrowOffsetY:0,initShow:!1},d),d=$(this);d.addClass("autoTip");d.each(function(b){var b=(new Date).getTime()+"_"+b,d=$(this);a.initShow&&l(d,b);$(this).hover(function(){0<$("#TipBox_"+b).length&&$("#TipBox_"+b).remove();l(d,b)},function(){setTimeout(function(){$("#TipBox_"+b).remove()},100)})})};
});
